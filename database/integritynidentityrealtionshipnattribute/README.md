## Integrity and Identity relationship, Atribute

무결성과 식별 관계에 대해 살펴보고, 속성의 111원칙과 3분류에 대해 깊이 살펴보자.  

---

### 무결성(Integrity)  

무결성은 크게 개체 무결성과 참조 무결성으로 나뉜다. 개체 무결성은 고유 키의 개념과 관련된다.  

모든 테이블이 기본 키를 가져야 하며, 기본 키로 선택된 열은 고유하여야 한다. 이 경우 빈 값(NULL)은 허용하지 않는다.  

참조 무결성은 외래 키의 개념과 관련된다. 모든 외래 키 값은 두 가지 상태 가운데 하나에만 속함을 규정한다.  

일반적인 상태는 외래 키 값이 데이터베이스의 특정 테이블의 기본 키 값을 참조하는 것이다.  

이는 비즈니스의 규칙에 따라 달라질 수 있으며 외래 키 값은 빈 값을 허용한다.  

#### 개체 무결성  

모든 테이블이 키본 키를 갖고, 기본 키로 선택된 열은 고유해야 한다. 또한, 엔터티의 primary key 즉, UID는 NULL 값을 가질 수 없다.  

#### 참조 무결성  

모든 외래 키 값은 두 가지 상태 가운데 하나에만 속해야 한다. 또한, 엔터티의 foreign key 즉, 외래 키는 NULL 값을 가질 수 있다.  

테이블 관계는 식별 관계와 비 식별 관계로 나뉜다. 이 두 관계의 차이는 부모 테이블의 PK(고유 키)가 자식 테이블에서도 PK로 쓰였느냐, 그렇지 않느냐와 부모 테이블과 자식 테이블이 1:1 관계냐 1:N 관계냐에 따라 달라진다.  

식별 관계는 부모 테이블의 PK가 자식 테이블에도 쓰인 것이고, 비식별 관계는 부모 테이블의 PK가 자식 테이블에 있기는 하지만 PK로 쓰이지 않는 것이다.  

#### 식별 관계(Identify Relationship)  

구분할 수 있는 관계, 부모 엔터티의 프라이머리키(UID)가 자식 엔터티의 키 파트로 간다.  

#### 비식별 관계(Non-Identify Relationship)  

부모 엔터티의 UID가 자식 엔터티의 일반 속성으로 상속된다.  

추가적으로 비식별 관계에는 UID가 일반 속성으로 상속되는 데, 어떤 경우에는 필수 입력(* - Not Null), 어떤 경우에는 선택 입력(0 - Null가능)으로 제공한다.  

##### 속성의 원자값  

모든 속성값은 원자값(atomic value)이다. 이 성질이 뜻하는 것은 더 이상 분해할 수 없는 '원자값'을 의미한다.  

#### 속성의 111원칙  

엔터티 타입내에서 하나의 속성은 한 시점에 한 개의 값만을 가져야 한다. 하나의 속성이 시간에 따라 여러 개의 값(다중값 속성)을 가질 경우 그 값을 해당 업무에서 관리해야 할 필요가 있다면 새로운 엔터티를 생성하는 원칙이다.  

#### 속성의 3분류  

##### 1분류: 기본 속성 - 업무상 수집된 기본속성  
##### 2분류: 설계 속성 - 업무에 필요한 정보를 주기위해 시스템에서 고안한 속성  
##### 3분류: 유도 속성 - 다른 속성에 의해 계산되거나 영향을 받아 생성된 속성  

