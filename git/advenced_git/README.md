## 올바른 깃허브 사용

##### 어떻게 하면 git을 '잘' 사용할 수 있을까?  

[뒤로가기](/git/README.md)

우리가 이 문서를 활용하는 이유는 취업, 이직, 개인의 성장 등 다양할 것이다. 그러나 모든 이유를 위해 깃허브를 올바르게 사용하는 방법을 학습하도록 하자.

---

#### 1. 1일 1커밋

타인의 깃허브를 방문한 적이 있는가? 그렇다면 우리가 가장 먼저 보는 것은 '커밋 히트맵(commit Heatmap)'이다. 이것 하나만으로 상대의 개발 실력을 판가름하기는 힘들지만, 이는 성실의 척도가 될 수 있다. '성실한' 이미지를 주는 그 찰나의 순간, 이미 당신은 "이 친구 열심히 사는 친구구먼!"하는 인상을 줄 수 있다.

물론, 이제 시작이다. 이를 위해 TIL(Today I Learned), 개인 블로그 등을 운영하는 것을 추천한다.

---

#### 2. 올바른 커밋이란 무엇인가?

올바른 깃허브 사용을 위한 올바른 커밋 작성법에 대해 학습하자. 사실 올바른 커밋이란 집단에 따라 다르다. 그러나 보편화된 형식을 따른다면 정갈한 커밋 메시지를 가질 수 있을 것이다. 또한, 그 메시지를 보는 이들의 마음도 정갈해질 것이다.

기본적으로 `타입(Type): 제목`의 형태로 커밋 메시지를 작성할 수 있다.

* Type의 종류

> *feat*: 새로운 기능을 추가할 경우  
> *fix*: 버그를 고친 경우  
> *docs*: 문서 수정한 경우  
> *style*: 코드 포맷 변경, 세미 콜론 누락, 코드 수정이 없는 경우  
> *refactor*: 프로덕션 코드 리팩토링  
> *test*: 테스트 추가, 테스트 리팩토링 (프로덕션 코드 변경 없음)  
> *chore*: 빌드 테스크 업데이트, 패키지 매니저 설정할 경우 (프로덕션 코드 변경 없음)  

예를 들어, 'myproject.cpp'라는 파일에 'myfunc()'라는 기능을 추가한다면 다음과 같은 형식이어야 한다.  

```
feat: Add myfunc()

better than yesterday 'myfunc()'. it`s awesome!

Resolves: #1111
```

**제목**은 일반적으로 마침표(`.`)를 사용하지 않는 것을 원칙으로 한다. 제목의 처음은 동사 원형을 이용해 'Added'나 'Modified'가 아닌 'Add', 'Modify'를 사용한다. (50자 이내)

**본문**의 내용은 커밋의 상세 내용을 작성하며 제목과 본문 사이는 한 칸 띄어 구분한다. (72자 이내)

**꼬리말**은 이슈 트래커 ID를 작성하는 것이 기본이다.

---

#### 3. 커밋을 잘못하면 어쩌지..?

커밋을 작성하며 한 번쯤 이런 생각을 해본 적이 있지 않은가?

> "아 제목을 안달았네 커밋 다시 해야겠다."

혹은

> "아 커밋 메시지를 잘못 입력했어. 새로운 커밋 메시지를 쓰기엔 아까우니까 그냥 넘어가자"

이라고 말이다. 이런 생각을 해본 적이 있다면 이번 챕터가 도움이 될 것이다.

우선 기본적으로 사용할 명령어는 `git commit --amend`와 `git rebase -i`이다. 이 둘을 사용하면 과거 시점에서 새로운 커밋없이 파일을 수정하거나 커밋 메시지를 수정할 수 있다.

먼저 `git commit --amend`를 살펴보자. 이 명령은 바로 이전의 commit 내용을 수정하는 명령이다. 가령 파일 내 문자의 수정, 커밋 메시지의 수정 등이 그 예이다. 아래의 예를 따라 본인의 커밋 메시지를 수정해보자.

##### 사용 예

```
## 커밋 메시지 수정
> git commit -m "docs: Add REEDME.md"
# 실수를 발견(수정)
> git commit --amend
# 에디터 출력

## 파일 내용 수정
> ls
REEDME.md
> git add REEDME.md
> git commit -e
# 실수를 발견(수정)
> mv REEDME.md README.md
> git add README.md
> git commit --amend
# 에디터 출력
```

이와 같이 `git commit --amend`를 사용하면 새로운 커밋의 추가 없이 과거의 커밋에 **'덮어쓰기'**할 수 있다.

다음은 `git rebase -i`에 대해 살펴보자. 우선은 git rebase에 대한 자세한 설명은 [여기][git rebase]를 참고하자.

간단하게 사용 예를 보고 `git rebase -i`의 사용방법에 익숙해져 보자.

##### 사용 예

```
## 과거 시점으로 돌아가기
> git rebase -i HEAD~3
# 현재 위치(HEAD)를 기준으로 총 3개의 commit message를 보여줌
# (수정을 원하는 commit message의 tag를 edit으로 수정하고 저장하면 과거의 시점으로 돌아감

## 돌아간 과거 시점에서 커밋 메시지 수정하기
> git commit --amend

## 돌아간 과거 시점에서 파일 수정하기
> ls
REEDDME.md
> mv REEDME.md README.md
> git add README.md
> git commit --amend
```

이처럼 `git commit --amend`와 `git rebase -i`를 이용하여 현재 커밋의 내용을 수정하거나 과거 커밋의 내용을 수정할 수 있다.

[git rebase]: https://git-scm.com/book/ko/v1/Git-%EB%B8%8C%EB%9E%9C%EC%B9%98-Rebase%ED%95%98%EA%B8%B0

